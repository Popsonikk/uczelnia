Create table czlonek_rodziny (imie VARCHAR(20) not null,nazwisko VARCHAR(20) not null, pokrewienstwo VARCHAR(20), data_ur date, idpracownik,FOREIGN key(idpracownik)REFERENCES pracownik(idpracownik) );
create table  pracownik(imie varchar(20) not null,nazwisko varchar(20)not null, plec varchar(1)  ,adres varchar(20), pensja int, pesel int ,idpracownik int not null, idkierownik int not null,primary key (idpracownik),FOREIGN key(idkierownik)REFERENCES pracownik(idpracownik));
create table dzial(nazwa VARCHAR(20)not null,lokalizacja VARCHAR(20),data_przejecia date, idkierownik int not null, iddzial int not null ,PRIMARY KEY (iddzial),FOREIGN key(idkierownik)REFERENCES pracownik(idpracownik) );
create table pracownicy_w_dziale ( idpracownik int unique  not null, iddzial int not null,FOREIGN key(idpracownik)REFERENCES pracownik(idpracownik),FOREIGN key(iddzial)REFERENCES dzial(iddzial));
create table projekt(nazwa VARCHAR(20) not null, lokalizacja VARCHAR(20), idprojekt int not null,iddzial int not null,primary key(idprojekt),FOREIGN key(iddzial)REFERENCES dzial(iddzial));
create table praca(czas int,idprojekt int not null,idpracownik int   not null,FOREIGN key(idpracownik)REFERENCES pracownik(idpracownik),FOREIGN key(idprojekt)REFERENCES projekt(idprojekt));
insert into pracownik (imie, nazwisko,pensja,idpracownik,idkierownik) values ('jan','kowalski',4000,1,1);
insert into pracownik (imie, nazwisko,pensja,idpracownik,idkierownik) values ('andrzej','nowak',3800,2,2);
insert into pracownik (imie, nazwisko,pensja,idpracownik,idkierownik) values ('patryk','popek',1700,3,1);
insert into pracownik (imie, nazwisko,pensja,idpracownik,idkierownik) values ('pat','ryk',2000,4,1);
insert into pracownik (imie, nazwisko,pensja,idpracownik,idkierownik) values ('patyk','kyrtap',2300,5,2);
insert into dzial (nazwa,idkierownik,iddzial) values('rowery',2,1);
insert into dzial (nazwa,idkierownik,iddzial) values('samochody',2,2);
insert into dzial (nazwa,idkierownik,iddzial) values('drzewa',1,3);
insert into dzial (nazwa,idkierownik,iddzial) values('pilki',2,4);
insert into pracownicy_w_dziale(idpracownik,iddzial) values (4,1);
insert into pracownicy_w_dziale(idpracownik,iddzial) values (3,1);
insert into pracownicy_w_dziale(idpracownik,iddzial) values (2,2);
insert into pracownicy_w_dziale(idpracownik,iddzial) values (1,3);
insert into pracownicy_w_dziale(idpracownik,iddzial) values (5,3);
insert into projekt(nazwa, idprojekt,iddzial)values ('a',1,1);
insert into projekt(nazwa, idprojekt,iddzial)values ('b',2,1);
insert into projekt(nazwa, idprojekt,iddzial)values ('c',3,4);
insert into projekt(nazwa, idprojekt,iddzial)values ('d',4,3);
insert into projekt(nazwa, idprojekt,iddzial)values ('e',5,2);
insert into projekt(nazwa, idprojekt,iddzial)values ('f',6,3);
INSERT into praca(czas,idpracownik,idprojekt) values(20,1,1);
INSERT into praca(czas,idpracownik,idprojekt) values(20,4,3);
INSERT into praca(czas,idpracownik,idprojekt) values(20,3,1);
INSERT into praca(czas,idpracownik,idprojekt) values(20,3,2);
INSERT into praca(czas,idpracownik,idprojekt) values(20,1,5);
Select pracownik.imie, pracownik.nazwisko from pracownik join pracownicy_w_dziale on pracownik.idpracownik=pracownicy_w_dziale.idpracownik join dzial on pracownicy_w_dziale.iddzial=dzial.iddzial where dzial.nazwa='rowery';
Select pracownik.imie, pracownik.nazwisko from pracownik where idkierownik=1;
select projekt.nazwa from projekt join dzial on projekt.iddzial=dzial.iddzial where dzial.nazwa='pilki';
Select pracownik.imie, pracownik.nazwisko from pracownik join praca on pracownik.idpracownik=praca.idpracownik join projekt on praca.idprojekt=projekt.idprojekt where projekt.nazwa='a';